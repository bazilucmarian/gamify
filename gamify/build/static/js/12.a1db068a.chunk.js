(this["webpackJsonpreact-project"]=this["webpackJsonpreact-project"]||[]).push([[12],{102:function(t,e,n){"use strict";n(0);var r=n(7),s=n.p+"static/media/Empty.7e4b6dae.svg",c=n.p+"static/media/no-image.0b19f0b7.png",i=n(33),a=n(1);function o(t){var e=t.message,n=t.pathRedirect,s=t.image,o=Object(r.g)();return e?Object(a.jsx)("div",{className:"empty-placeholder",children:Object(a.jsxs)("div",{className:"empty-placeholder__content",children:[Object(a.jsx)("img",{className:"empty-placeholder__image",src:s,alt:"placeholder-img"}),Object(a.jsx)("p",{className:"empty-placeholder__message",children:e}),n&&Object(a.jsx)(i.a,{color:"secondary",variant:"outlined-secondary",size:"lg",onClick:function(){o.push(n)},children:"Go to available challenges \u27a1"})]})}):Object(a.jsx)("img",{className:"empty-placeholder__not-available",src:c,alt:"placeholder"})}o.defaultProps={message:"",pathRedirect:"",image:s};e.a=o},111:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(3),s=n(0),c=n.n(s),i=n(5),a=n(2),o=n(6),u=n(42),l=function(t){function e(e,n){var r;return(r=t.call(this)||this).client=e,r.setOptions(n),r.bindMethods(),r.updateResult(),r}Object(o.a)(e,t);var n=e.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(t){this.options=this.client.defaultMutationOptions(t)},n.onUnsubscribe=function(){var t;this.listeners.length||(null==(t=this.currentMutation)||t.removeObserver(this))},n.onMutationUpdate=function(t){this.updateResult();var e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Object(r.a)({},this.options,{variables:"undefined"!==typeof t?t:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var t=this.currentMutation?this.currentMutation.state:Object(u.b)();this.currentResult=Object(r.a)({},t,{isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset})},n.notify=function(t){var e=this;i.a.batch((function(){e.mutateOptions&&(t.onSuccess?(null==e.mutateOptions.onSuccess||e.mutateOptions.onSuccess(e.currentResult.data,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(e.currentResult.data,null,e.currentResult.variables,e.currentResult.context)):t.onError&&(null==e.mutateOptions.onError||e.mutateOptions.onError(e.currentResult.error,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(void 0,e.currentResult.error,e.currentResult.variables,e.currentResult.context))),t.listeners&&e.listeners.forEach((function(t){t(e.currentResult)}))}))},e}(n(14).a),d=n(20);function h(t,e,n){var s=c.a.useRef(!1),o=c.a.useState(0)[1],u=Object(a.k)(t,e,n),h=Object(d.b)(),p=c.a.useRef();p.current?p.current.setOptions(u):p.current=new l(h,u);var j=p.current.getCurrentResult();c.a.useEffect((function(){s.current=!0;var t=p.current.subscribe(i.a.batchCalls((function(){s.current&&o((function(t){return t+1}))})));return function(){s.current=!1,t()}}),[]);var b=c.a.useCallback((function(t,e){p.current.mutate(t,e).catch(a.i)}),[]);if(j.error&&p.current.options.useErrorBoundary)throw j.error;return Object(r.a)({},j,{mutate:b,mutateAsync:j.mutate})}},117:function(t,e,n){"use strict";var r=n(13),s=n.n(r),c=n(8),i=n(18),a=n(20),o=n(111),u=n(41),l=n(40),d=n(27),h=n(30),p=n(32),j=n(31);e.a=function(t){var e=Object(a.b)(),n=Object(j.a)().updateUser,r=Object(p.b)().token;function b(){return(b=Object(i.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.post("/api/cart/".concat(n),null,Object(l.a)(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(o.a)((function(t){return b.apply(this,arguments)}),{onSuccess:function(t){u.b.success(t.message),n(Object(c.a)(Object(c.a)({},t.newUserUpdated),{},{token:r})),e.invalidateQueries(h.a.cart,{refetchInactive:!0})},onError:function(t){u.b.warn(t.response.data.message)}})}},122:function(t,e,n){"use strict";n.r(e);var r=n(0),s=n(7),c=n(1),i=function(t){var e=t.onClick,n=t.size;return Object(c.jsxs)("svg",{onClick:e,cursor:"pointer",className:"close-icon close-icon--".concat(n),viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(c.jsx)("path",{d:"M0.727836 3.27213L3.55626 0.443707L31.8405 28.728L29.0121 31.5564L0.727836 3.27213Z",fill:"#171717"}),Object(c.jsx)("path",{d:"M3.55637 31.5563L0.727938 28.7279L29.0122 0.443637L31.8406 3.27206L3.55637 31.5563Z",fill:"#171717"})]})};i.defaultProps={size:"SM"};var a=i,o=n(23);var u=function(){var t=Object(r.useState)(window.innerWidth),e=Object(o.a)(t,2),n=e[0],s=e[1];return Object(r.useEffect)((function(){var t=function(){return s(window.innerWidth)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}})),n},l=n(102),d="SLIDE_LEFT",h="SLIDE_RIGHT";function p(t){var e=t.imageUrl,n=t.imageAlt,r=t.width;return Object(c.jsx)("div",{className:"slide",style:{width:r},children:Object(c.jsx)("img",{src:e,alt:n})})}p.defaultProps={imageUrl:"",imageAlt:""};var j=p;var b=function(t){var e=t.isActive,n=t.goToSlide,r=t.index,s=function(){n(r)};return Object(c.jsx)("div",{className:"dot ".concat(e&&"dot--active"),onClick:s,onKeyDown:function(){return s},role:"button",tabIndex:"0"})};var m=function(t){var e=t.allImages,n=t.currentIndex,r=t.goToSlide;return Object(c.jsx)("ul",{className:"dots",children:null===e||void 0===e?void 0:e.map((function(t,e){return Object(c.jsx)(b,{isActive:n===e,index:e,goToSlide:r},t.name)}))})},f=function(t){var e=t.onClick;return Object(c.jsxs)("svg",{onClick:e,width:"19",height:"32",viewBox:"0 0 19 32",transform:"rotate(180)",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(c.jsx)("path",{d:"M0.727836 3.27216L3.55626 0.443737L18.8405 15.728L16.0121 18.5564L0.727836 3.27216Z",fill:"#6A758D"}),Object(c.jsx)("path",{d:"M3.55637 31.5564L0.727938 28.7279L16.0122 13.4437L18.8406 16.2721L3.55637 31.5564Z",fill:"#6A758D"})]})},v=function(t){var e=t.onClick;return Object(c.jsxs)("svg",{onClick:e,width:"19",height:"32",viewBox:"0 0 19 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(c.jsx)("path",{d:"M0.727836 3.27216L3.55626 0.443737L18.8405 15.728L16.0121 18.5564L0.727836 3.27216Z",fill:"#6A758D"}),Object(c.jsx)("path",{d:"M3.55637 31.5564L0.727938 28.7279L16.0122 13.4437L18.8406 16.2721L3.55637 31.5564Z",fill:"#6A758D"})]})};var O=function(t){var e=t.direction,n=t.changeSlide;return Object(c.jsxs)("div",{className:"control control--".concat(e),children:[e===d&&Object(c.jsx)(f,{onClick:function(){n(d)}}),e===h&&Object(c.jsx)(v,{onClick:function(){n(h)}})]})};var g=function(t){var e=t.currentIndex,n=t.allImages,r=t.changeSlide;return Object(c.jsxs)(c.Fragment,{children:[e>0&&Object(c.jsx)(O,{changeSlide:r,direction:d}),e<n.length-1&&Object(c.jsx)(O,{changeSlide:r,direction:h})]})};function x(t){var e=t.images,n=Object(r.useState)(0),s=Object(o.a)(n,2),i=s[0],a=s[1],p=u();return e.length?Object(c.jsxs)("div",{className:"slider",children:[Object(c.jsx)("div",{className:"slider__wrapper",style:{transform:"translateX(".concat(-i*p,"px)"),transition:"transform ease-out 0.30s",width:"".concat(p*e.length,"px")},children:e.map((function(t){return Object(c.jsx)(j,{imageUrl:t.imageUrl,imageAlt:t.name,width:p},t.name)}))}),Object(c.jsx)(m,{allImages:e,currentIndex:i,goToSlide:function(t){a(t)}}),Object(c.jsx)(g,{currentIndex:i,allImages:e,changeSlide:function(t){switch(t){case h:a((function(t){return t+1}));break;case d:a((function(t){return t-1}))}}})]}):Object(c.jsx)(l.a,{})}x.defaultProps={images:[]};var w=x,L=n(33),y=n(13),R=n.n(y),S=n(18),_=n(97),k=n(41),I=n(40),M=n(27),C=n(30);var E=function(t,e){function n(){return(n=Object(S.a)(R.a.mark((function n(){return R.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.a.get("/api/shop/".concat(e),Object(I.a)(t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(_.a)([C.a.allProducts,e],(function(){return n.apply(this,arguments)}),{onError:function(t){k.b.error(t.response.data.message)}})},N=n(117);e.default=function(t){var e=t.user,n=Object(s.i)().productId,r=Object(s.g)(),i="Admin"===e.role,o=Object(N.a)(e).mutate,u=E(e,n),d=u.data,h=u.isLoading,p=u.isError,j=u.error;return h?null:p?Object(c.jsx)(l.a,{message:j.response.data.message}):Object(c.jsxs)("div",{className:"single-shopItem",children:[Object(c.jsx)("div",{className:"single-shopItem__left",children:Object(c.jsx)(w,{images:d.images})}),Object(c.jsxs)("div",{className:"single-shopItem__right",children:[Object(c.jsx)("div",{className:"single-shopItem__close",children:Object(c.jsx)(a,{onClick:function(){i?r.push("/admin/shop"):r.push("/shop")},size:"XL"})}),Object(c.jsxs)("div",{className:"single-shopItem__details",children:[Object(c.jsx)("h1",{children:d.title}),Object(c.jsx)("p",{className:"single-shopItem__p1",children:d.description}),!i&&Object(c.jsx)(L.a,{color:"secondary",variant:"contained-secondary",size:"lg",onClick:function(){return o(n)},children:"Buy - ".concat(d.credits," Credits")})]})]})]})}}}]);
//# sourceMappingURL=12.a1db068a.chunk.js.map