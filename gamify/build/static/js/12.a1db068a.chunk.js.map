{"version":3,"sources":["assets/imgs/Empty.svg","assets/imgs/no-image.png","components/empty-placeholder.js","../node_modules/react-query/es/core/mutationObserver.js","../node_modules/react-query/es/react/useMutation.js","hooks/mutations/use-add-to-shopping-cart.js","icons/close-icon.js","hooks/use-window-width.js","constants/slider-direction.js","components/slider/slide.js","components/slider/dot.js","components/slider/dots.js","icons/arrow-left.js","icons/arrow-right.js","components/slider/slider-control.js","components/slider/controls.js","components/slider/slider.js","hooks/queries/use-single-product.js","pages/user-pages/shop-page-single-product.js"],"names":["EmptyPlaceholder","message","pathRedirect","image","history","useHistory","className","src","alt","color","variant","size","onClick","push","NoImage","defaultProps","Empty","MutationObserver","_Subscribable","client","options","_this","call","this","setOptions","bindMethods","updateResult","_inheritsLoose","_proto","prototype","mutate","bind","reset","defaultMutationOptions","onUnsubscribe","_this$currentMutation","listeners","length","currentMutation","removeObserver","onMutationUpdate","action","notifyOptions","type","onSuccess","onError","notify","getCurrentResult","currentResult","undefined","variables","mutateOptions","getMutationCache","build","_extends","addObserver","execute","state","getDefaultState","isLoading","status","isSuccess","isError","isIdle","_this2","notifyManager","batch","data","context","onSettled","error","forEach","listener","Subscribable","useMutation","arg1","arg2","arg3","mountedRef","React","useRef","forceUpdate","useState","parseMutationArgs","queryClient","useQueryClient","obsRef","current","useEffect","unsubscribe","subscribe","batchCalls","x","useCallback","catch","noop","useErrorBoundary","mutateAsync","useAddToShoppingCartMutation","user","updateUser","useUser","token","getStoredUser","shopItemId","a","api","post","getJWTHeader","toast","success","newUserUpdated","invalidateQueries","queryKeys","cart","refetchInactive","warn","response","CloseIcon","cursor","viewBox","fill","xmlns","d","useWindowWidth","window","innerWidth","width","setWidth","handleResize","addEventListener","removeEventListener","SLIDE_DIRECTION_LEFT","SLIDE_DIRECTION_RIGHT","Slide","imageUrl","imageAlt","style","Dot","isActive","goToSlide","index","handleOnClick","onKeyDown","role","tabIndex","Dots","allImages","currentIndex","map","name","ArrowLeft","height","transform","ArrowRight","SliderControl","direction","changeSlide","Controls","Slider","images","setCurrentIndex","windowWidth","transition","newIndex","prevState","useSingleProduct","productId","get","useQuery","allProducts","SingleProduct","useParams","isAdmin","addToShoppingCartHandler","productDetails","title","description","credits"],"mappings":"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","file":"static/js/12.a1db068a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Empty.7e4b6dae.svg\";","export default __webpack_public_path__ + \"static/media/no-image.0b19f0b7.png\";","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nimport Empty from '../assets/imgs/Empty.svg';\r\nimport NoImage from '../assets/imgs/no-image.png';\r\n\r\nimport Button from './button';\r\n\r\nfunction EmptyPlaceholder({message, pathRedirect, image}) {\r\n  const history = useHistory();\r\n\r\n  const handleRedirect = () => {\r\n    history.push(pathRedirect);\r\n  };\r\n\r\n  if (!message) {\r\n    return <img className=\"empty-placeholder__not-available\" src={NoImage} alt=\"placeholder\" />;\r\n  }\r\n  return (\r\n    <div className=\"empty-placeholder\">\r\n      <div className=\"empty-placeholder__content\">\r\n        <img className=\"empty-placeholder__image\" src={image} alt=\"placeholder-img\" />\r\n        <p className=\"empty-placeholder__message\">{message}</p>\r\n        {pathRedirect && (\r\n          <Button color=\"secondary\" variant=\"outlined-secondary\" size=\"lg\" onClick={handleRedirect}>\r\n            Go to available challenges ➡\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nEmptyPlaceholder.propTypes = {\r\n  message: PropTypes.string,\r\n  pathRedirect: PropTypes.string,\r\n  image: PropTypes.string\r\n};\r\nEmptyPlaceholder.defaultProps = {\r\n  message: '',\r\n  pathRedirect: '',\r\n  image: Empty\r\n};\r\n\r\nexport default EmptyPlaceholder;\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport { getDefaultState } from './mutation';\nimport { notifyManager } from './notifyManager';\nimport { Subscribable } from './subscribable';\n// CLASS\nexport var MutationObserver = /*#__PURE__*/function (_Subscribable) {\n  _inheritsLoose(MutationObserver, _Subscribable);\n\n  function MutationObserver(client, options) {\n    var _this;\n\n    _this = _Subscribable.call(this) || this;\n    _this.client = client;\n\n    _this.setOptions(options);\n\n    _this.bindMethods();\n\n    _this.updateResult();\n\n    return _this;\n  }\n\n  var _proto = MutationObserver.prototype;\n\n  _proto.bindMethods = function bindMethods() {\n    this.mutate = this.mutate.bind(this);\n    this.reset = this.reset.bind(this);\n  };\n\n  _proto.setOptions = function setOptions(options) {\n    this.options = this.client.defaultMutationOptions(options);\n  };\n\n  _proto.onUnsubscribe = function onUnsubscribe() {\n    if (!this.listeners.length) {\n      var _this$currentMutation;\n\n      (_this$currentMutation = this.currentMutation) == null ? void 0 : _this$currentMutation.removeObserver(this);\n    }\n  };\n\n  _proto.onMutationUpdate = function onMutationUpdate(action) {\n    this.updateResult(); // Determine which callbacks to trigger\n\n    var notifyOptions = {\n      listeners: true\n    };\n\n    if (action.type === 'success') {\n      notifyOptions.onSuccess = true;\n    } else if (action.type === 'error') {\n      notifyOptions.onError = true;\n    }\n\n    this.notify(notifyOptions);\n  };\n\n  _proto.getCurrentResult = function getCurrentResult() {\n    return this.currentResult;\n  };\n\n  _proto.reset = function reset() {\n    this.currentMutation = undefined;\n    this.updateResult();\n    this.notify({\n      listeners: true\n    });\n  };\n\n  _proto.mutate = function mutate(variables, options) {\n    this.mutateOptions = options;\n\n    if (this.currentMutation) {\n      this.currentMutation.removeObserver(this);\n    }\n\n    this.currentMutation = this.client.getMutationCache().build(this.client, _extends({}, this.options, {\n      variables: typeof variables !== 'undefined' ? variables : this.options.variables\n    }));\n    this.currentMutation.addObserver(this);\n    return this.currentMutation.execute();\n  };\n\n  _proto.updateResult = function updateResult() {\n    var state = this.currentMutation ? this.currentMutation.state : getDefaultState();\n    this.currentResult = _extends({}, state, {\n      isLoading: state.status === 'loading',\n      isSuccess: state.status === 'success',\n      isError: state.status === 'error',\n      isIdle: state.status === 'idle',\n      mutate: this.mutate,\n      reset: this.reset\n    });\n  };\n\n  _proto.notify = function notify(options) {\n    var _this2 = this;\n\n    notifyManager.batch(function () {\n      // First trigger the mutate callbacks\n      if (_this2.mutateOptions) {\n        if (options.onSuccess) {\n          _this2.mutateOptions.onSuccess == null ? void 0 : _this2.mutateOptions.onSuccess(_this2.currentResult.data, _this2.currentResult.variables, _this2.currentResult.context);\n          _this2.mutateOptions.onSettled == null ? void 0 : _this2.mutateOptions.onSettled(_this2.currentResult.data, null, _this2.currentResult.variables, _this2.currentResult.context);\n        } else if (options.onError) {\n          _this2.mutateOptions.onError == null ? void 0 : _this2.mutateOptions.onError(_this2.currentResult.error, _this2.currentResult.variables, _this2.currentResult.context);\n          _this2.mutateOptions.onSettled == null ? void 0 : _this2.mutateOptions.onSettled(undefined, _this2.currentResult.error, _this2.currentResult.variables, _this2.currentResult.context);\n        }\n      } // Then trigger the listeners\n\n\n      if (options.listeners) {\n        _this2.listeners.forEach(function (listener) {\n          listener(_this2.currentResult);\n        });\n      }\n    });\n  };\n\n  return MutationObserver;\n}(Subscribable);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport { notifyManager } from '../core/notifyManager';\nimport { noop, parseMutationArgs } from '../core/utils';\nimport { MutationObserver } from '../core/mutationObserver';\nimport { useQueryClient } from './QueryClientProvider';\nexport function useMutation(arg1, arg2, arg3) {\n  var mountedRef = React.useRef(false);\n\n  var _React$useState = React.useState(0),\n      forceUpdate = _React$useState[1];\n\n  var options = parseMutationArgs(arg1, arg2, arg3);\n  var queryClient = useQueryClient();\n  var obsRef = React.useRef();\n\n  if (!obsRef.current) {\n    obsRef.current = new MutationObserver(queryClient, options);\n  } else {\n    obsRef.current.setOptions(options);\n  }\n\n  var currentResult = obsRef.current.getCurrentResult();\n  React.useEffect(function () {\n    mountedRef.current = true;\n    var unsubscribe = obsRef.current.subscribe(notifyManager.batchCalls(function () {\n      if (mountedRef.current) {\n        forceUpdate(function (x) {\n          return x + 1;\n        });\n      }\n    }));\n    return function () {\n      mountedRef.current = false;\n      unsubscribe();\n    };\n  }, []);\n  var mutate = React.useCallback(function (variables, mutateOptions) {\n    obsRef.current.mutate(variables, mutateOptions).catch(noop);\n  }, []);\n\n  if (currentResult.error && obsRef.current.options.useErrorBoundary) {\n    throw currentResult.error;\n  }\n\n  return _extends({}, currentResult, {\n    mutate: mutate,\n    mutateAsync: currentResult.mutate\n  });\n}","import {useMutation, useQueryClient} from 'react-query';\r\nimport {toast} from 'react-toastify';\r\n\r\nimport {getJWTHeader} from '../../axios-instance';\r\nimport api from '../../components/api';\r\nimport {queryKeys} from '../../react-query/constants';\r\nimport {getStoredUser} from '../../user-local-storage';\r\nimport {useUser} from '../use-user';\r\n\r\nconst useAddToShoppingCartMutation = user => {\r\n  const queryClient = useQueryClient();\r\n  const {updateUser} = useUser();\r\n  const {token} = getStoredUser();\r\n\r\n  async function handleAddToShoppingCart(shopItemId) {\r\n    try {\r\n      return await api.post(`/api/cart/${shopItemId}`, null, getJWTHeader(user));\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  }\r\n  return useMutation(handleAddToShoppingCart, {\r\n    onSuccess: data => {\r\n      toast.success(data.message);\r\n      updateUser({...data.newUserUpdated, token});\r\n      queryClient.invalidateQueries(queryKeys.cart, {refetchInactive: true});\r\n    },\r\n    onError: error => {\r\n      toast.warn(error.response.data.message);\r\n    }\r\n  });\r\n};\r\n\r\nexport default useAddToShoppingCartMutation;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst CloseIcon = ({onClick, size}) => (\r\n  <svg\r\n    onClick={onClick}\r\n    cursor=\"pointer\"\r\n    className={`close-icon close-icon--${size}`}\r\n    viewBox=\"0 0 32 32\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M0.727836 3.27213L3.55626 0.443707L31.8405 28.728L29.0121 31.5564L0.727836 3.27213Z\" fill=\"#171717\" />\r\n    <path d=\"M3.55637 31.5563L0.727938 28.7279L29.0122 0.443637L31.8406 3.27206L3.55637 31.5563Z\" fill=\"#171717\" />\r\n  </svg>\r\n);\r\n\r\nCloseIcon.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  size: PropTypes.oneOf(['SM', 'XL'])\r\n};\r\n\r\nCloseIcon.defaultProps = {\r\n  size: 'SM'\r\n};\r\n\r\nexport default CloseIcon;\r\n","import {useEffect, useState} from 'react';\r\n\r\nfunction useWindowWidth() {\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => setWidth(window.innerWidth);\r\n\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  });\r\n  return width;\r\n}\r\nexport default useWindowWidth;\r\n","export const SLIDE_DIRECTION_LEFT = 'SLIDE_LEFT';\r\nexport const SLIDE_DIRECTION_RIGHT = 'SLIDE_RIGHT';\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Slide({imageUrl, imageAlt, width}) {\r\n  return (\r\n    <div className=\"slide\" style={{width}}>\r\n      <img src={imageUrl} alt={imageAlt} />\r\n    </div>\r\n  );\r\n}\r\n\r\nSlide.propTypes = {\r\n  imageUrl: PropTypes.string,\r\n  imageAlt: PropTypes.string,\r\n  width: PropTypes.number.isRequired\r\n};\r\nSlide.defaultProps = {\r\n  imageUrl: '',\r\n  imageAlt: ''\r\n};\r\nexport default Slide;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Dot({isActive, goToSlide, index}) {\r\n  const handleOnClick = () => {\r\n    goToSlide(index);\r\n  };\r\n  return (\r\n    <div\r\n      className={`dot ${isActive && 'dot--active'}`}\r\n      onClick={handleOnClick}\r\n      onKeyDown={() => handleOnClick}\r\n      role=\"button\"\r\n      tabIndex=\"0\"\r\n    />\r\n  );\r\n}\r\n\r\nDot.propTypes = {\r\n  goToSlide: PropTypes.func.isRequired,\r\n  isActive: PropTypes.bool.isRequired,\r\n  index: PropTypes.number.isRequired\r\n};\r\nexport default Dot;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Dot from './dot';\r\n\r\nfunction Dots({allImages, currentIndex, goToSlide}) {\r\n  return (\r\n    <ul className=\"dots\">\r\n      {allImages?.map((image, index) => (\r\n        <Dot key={image.name} isActive={currentIndex === index} index={index} goToSlide={goToSlide} />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nDots.propTypes = {\r\n  goToSlide: PropTypes.func.isRequired,\r\n  allImages: PropTypes.array.isRequired,\r\n  currentIndex: PropTypes.number.isRequired\r\n};\r\nexport default Dots;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ArrowLeft = ({onClick}) => (\r\n  <svg\r\n    onClick={onClick}\r\n    width=\"19\"\r\n    height=\"32\"\r\n    viewBox=\"0 0 19 32\"\r\n    transform=\"rotate(180)\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M0.727836 3.27216L3.55626 0.443737L18.8405 15.728L16.0121 18.5564L0.727836 3.27216Z\" fill=\"#6A758D\" />\r\n    <path d=\"M3.55637 31.5564L0.727938 28.7279L16.0122 13.4437L18.8406 16.2721L3.55637 31.5564Z\" fill=\"#6A758D\" />\r\n  </svg>\r\n);\r\n\r\nArrowLeft.propTypes = {\r\n  onClick: PropTypes.func.isRequired\r\n};\r\nexport default ArrowLeft;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ArrowRight = ({onClick}) => (\r\n  <svg onClick={onClick} width=\"19\" height=\"32\" viewBox=\"0 0 19 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M0.727836 3.27216L3.55626 0.443737L18.8405 15.728L16.0121 18.5564L0.727836 3.27216Z\" fill=\"#6A758D\" />\r\n    <path d=\"M3.55637 31.5564L0.727938 28.7279L16.0122 13.4437L18.8406 16.2721L3.55637 31.5564Z\" fill=\"#6A758D\" />\r\n  </svg>\r\n);\r\n\r\nArrowRight.propTypes = {\r\n  onClick: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ArrowRight;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ArrowLeft from '../../icons/arrow-left';\r\nimport ArrowRight from '../../icons/arrow-right';\r\nimport {SLIDE_DIRECTION_LEFT, SLIDE_DIRECTION_RIGHT} from '../../constants/slider-direction';\r\n\r\nfunction SliderControl({direction, changeSlide}) {\r\n  const onChangeSlidePrevious = () => {\r\n    changeSlide(SLIDE_DIRECTION_LEFT);\r\n  };\r\n  const onChangeSlideNext = () => {\r\n    changeSlide(SLIDE_DIRECTION_RIGHT);\r\n  };\r\n  return (\r\n    <div className={`control control--${direction}`}>\r\n      {direction === SLIDE_DIRECTION_LEFT && <ArrowLeft onClick={onChangeSlidePrevious} />}\r\n      {direction === SLIDE_DIRECTION_RIGHT && <ArrowRight onClick={onChangeSlideNext} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nSliderControl.propTypes = {\r\n  direction: PropTypes.oneOf([SLIDE_DIRECTION_LEFT, SLIDE_DIRECTION_RIGHT]).isRequired,\r\n  changeSlide: PropTypes.func.isRequired\r\n};\r\nexport default SliderControl;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {SLIDE_DIRECTION_LEFT, SLIDE_DIRECTION_RIGHT} from '../../constants/slider-direction';\r\n\r\nimport SliderControl from './slider-control';\r\n\r\nfunction Controls({currentIndex, allImages, changeSlide}) {\r\n  return (\r\n    <>\r\n      {currentIndex > 0 && <SliderControl changeSlide={changeSlide} direction={SLIDE_DIRECTION_LEFT} />}\r\n      {currentIndex < allImages.length - 1 && (\r\n        <SliderControl changeSlide={changeSlide} direction={SLIDE_DIRECTION_RIGHT} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\nControls.propTypes = {\r\n  changeSlide: PropTypes.func.isRequired,\r\n  currentIndex: PropTypes.number.isRequired,\r\n  allImages: PropTypes.array.isRequired\r\n};\r\n\r\nexport default Controls;\r\n","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport useWindowWidth from '../../hooks/use-window-width';\r\nimport EmptyPlaceholder from '../empty-placeholder';\r\nimport {SLIDE_DIRECTION_LEFT, SLIDE_DIRECTION_RIGHT} from '../../constants/slider-direction';\r\n\r\nimport Slide from './slide';\r\nimport Dots from './dots';\r\nimport Controls from './controls';\r\n\r\nfunction Slider({images}) {\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const windowWidth = useWindowWidth();\r\n\r\n  const goToSlide = newIndex => {\r\n    setCurrentIndex(newIndex);\r\n  };\r\n\r\n  const changeSlide = type => {\r\n    switch (type) {\r\n      case SLIDE_DIRECTION_RIGHT:\r\n        setCurrentIndex(prevState => prevState + 1);\r\n        break;\r\n      case SLIDE_DIRECTION_LEFT:\r\n        setCurrentIndex(prevState => prevState - 1);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  if (!images.length) {\r\n    return <EmptyPlaceholder />;\r\n  }\r\n  return (\r\n    <div className=\"slider\">\r\n      <div\r\n        className=\"slider__wrapper\"\r\n        style={{\r\n          transform: `translateX(${-(currentIndex * windowWidth)}px)`,\r\n          transition: 'transform ease-out 0.30s',\r\n          width: `${windowWidth * images.length}px`\r\n        }}\r\n      >\r\n        {images.map(image => (\r\n          <Slide key={image.name} imageUrl={image.imageUrl} imageAlt={image.name} width={windowWidth} />\r\n        ))}\r\n      </div>\r\n      <Dots allImages={images} currentIndex={currentIndex} goToSlide={goToSlide} />\r\n      <Controls currentIndex={currentIndex} allImages={images} changeSlide={changeSlide} />\r\n    </div>\r\n  );\r\n}\r\nSlider.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      imageUrl: PropTypes.string,\r\n      name: PropTypes.string\r\n    })\r\n  )\r\n};\r\nSlider.defaultProps = {\r\n  images: []\r\n};\r\nexport default Slider;\r\n","/* eslint-disable no-return-await */\r\nimport {useQuery} from 'react-query';\r\nimport {toast} from 'react-toastify';\r\n\r\nimport {getJWTHeader} from '../../axios-instance';\r\nimport api from '../../components/api';\r\nimport {queryKeys} from '../../react-query/constants';\r\n\r\nfunction useSingleProduct(user, productId) {\r\n  async function getSingleProduct() {\r\n    return await api.get(`/api/shop/${productId}`, getJWTHeader(user));\r\n  }\r\n\r\n  return useQuery([queryKeys.allProducts, productId], getSingleProduct, {\r\n    onError: error => {\r\n      toast.error(error.response.data.message);\r\n    }\r\n  });\r\n}\r\n\r\nexport default useSingleProduct;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {useParams, useHistory} from 'react-router-dom';\r\n\r\nimport CloseIcon from '../../icons/close-icon';\r\nimport Slider from '../../components/slider/slider';\r\nimport Button from '../../components/button';\r\nimport useSingleProduct from '../../hooks/queries/use-single-product';\r\nimport EmptyPlaceholder from '../../components/empty-placeholder';\r\nimport useAddToShoppingCartMutation from '../../hooks/mutations/use-add-to-shopping-cart';\r\n\r\nfunction SingleProduct({user}) {\r\n  const {productId} = useParams();\r\n  const history = useHistory();\r\n  const isAdmin = user.role === 'Admin';\r\n\r\n  // mutation\r\n  const {mutate: addToShoppingCartHandler} = useAddToShoppingCartMutation(user);\r\n\r\n  // query\r\n  const {data: productDetails, isLoading, isError, error} = useSingleProduct(user, productId);\r\n\r\n  const handleClose = () => {\r\n    if (isAdmin) {\r\n      history.push('/admin/shop');\r\n    } else {\r\n      history.push('/shop');\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return null;\r\n  }\r\n  if (isError) {\r\n    return <EmptyPlaceholder message={error.response.data.message} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"single-shopItem\">\r\n      <div className=\"single-shopItem__left\">\r\n        <Slider images={productDetails.images} />\r\n      </div>\r\n      <div className=\"single-shopItem__right\">\r\n        <div className=\"single-shopItem__close\">\r\n          <CloseIcon onClick={handleClose} size=\"XL\" />\r\n        </div>\r\n        <div className=\"single-shopItem__details\">\r\n          <h1>{productDetails.title}</h1>\r\n          <p className=\"single-shopItem__p1\">{productDetails.description}</p>\r\n          {!isAdmin && (\r\n            <Button\r\n              color=\"secondary\"\r\n              variant=\"contained-secondary\"\r\n              size=\"lg\"\r\n              onClick={() => addToShoppingCartHandler(productId)}\r\n            >\r\n              {`Buy - ${productDetails.credits} Credits`}\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nSingleProduct.propTypes = {\r\n  user: PropTypes.object.isRequired\r\n};\r\n\r\nexport default SingleProduct;\r\n"],"sourceRoot":""}